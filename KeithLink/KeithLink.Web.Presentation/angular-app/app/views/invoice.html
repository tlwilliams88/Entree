<div page-header-bar>
  <div header-message>
    Your Invoices
    <select name="" id="">
      <option value="">All Invoices</option>
    </select>
  </div>
  <div header-buttons>
    <button class="btn btn-icon btn-default"><span class="icon-printer"></span></button>
    <button class="btn btn-icon btn-default"><span class="icon-export"></span></button>
  </div>
</div>

<div class="row">
  <div class="col-sm-12 col-xs-12 col-md-4 pull-right">
    <div class="info-box">
      <h3 style="margin-top:0">Billing Information</h3>
      <address class="text-light">
        Jimmy's Chicken Shack<br>
        123 Main Street<br>
        Ft. Worth, TX 75034<br>
      </address>
      <h3>Bank Account Info</h3>
      
      <div class="btn-group" dropdown is-open="status.isopen">
        <button type="button" class="btn-lg btn btn-default dropdown-toggle" style="text-align:left;">
            <div style="display:inline-block;vertical-align:middle;">
              {{selectedAccount.name}}<br>
              {{selectedAccount.number}}
            </div>
            <span style="display:inline-block;vertical-align:middle;" class="icon-arrow-down6"></span>
          </button>

          <div class="dropdown-menu">
            <table class="table no-margin">
              <tr ng-click="selectAccount(account)" ng-show="account.id !== selectedAccount.id" ng-repeat="account in accounts | orderBy: 'name'">
                <td><span class="overflow">{{account.name}}</span></td>
              </tr>
            </table>
          </div>
      </div>

    </div>
  </div>

  <div class="col-sm-12 col-xs-12 col-md-8 padding-top-xs padding-top-sm">
    
    <table class="table table-border table-striped-rows invoice-table" navigate-table>
      <thead>
        <tr>
          <th class="input-col">
            <input type="checkbox">
          </th>
          <th class="sort-col-header" ng-click="sortBy='invoicenumber';sortOrder=!sortOrder;">
            Reference #
            <span sort-icons field="'invoicenumber'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header" ng-click="sortBy='status';sortOrder=!sortOrder;">
            Status
            <span sort-icons field="'status'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header hidden-xs hidden-sm" ng-click="sortBy='duedate';sortOrder=!sortOrder;">
            Due Date
            <span sort-icons field="'duedate'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header" ng-click="sortBy='amountdue';sortOrder=!sortOrder;">
            Amount Due
            <span sort-icons field="'amountdue'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="text-center hidden-xs hidden-sm">Invoice Image</th>
          <th class="hidden-xs hidden-sm">Payment Amt</th>
          <th class="large-icon icon-col">
            <a ng-click="showFilter = !showFilter;"><span class="icon-filter"></span></a>
          </th>
        </tr>
      </thead>
      <tbody>

        <!-- Filter Row -->
        <tr class="filter-row" ng-show="showFilter">
          <td></td>
          <td class="input-col">
            <input type="text" placeholder="Filter..." ng-model="filterFields.invoicenumber">
          </td>
          <td class="input-col">
            <input type="text" placeholder="Filter..." ng-model="filterFields.status">
          </td>
          <td class="hidden-xs hidden-sm"></td>
          <td></td>
          <td class="hidden-xs hidden-sm"></td>
          <td class="hidden-xs hidden-sm"></td>
          <td class="large-icon icon-col">
            <a ng-click="filterFields = {}"><span class="text-light icon-cross3"></span></a>
          </td>
        </tr> <!-- end Filter Row -->

        <tr ng-repeat-start="invoice in invoices | filter:filterFields | orderBy:sortBy:sortOrder" ng-class="{ odd : $odd, even: $even, invoice__late: invoice.status === 'late', invoice__paid: invoice.status === 'paid' }">
          <td>
            <input ng-if="invoice.status === 'open' || invoice.status === 'late'" type="checkbox">
          </td>
          <td>
            <a ui-sref="menu.invoiceitems({invoiceId: invoice.id})">{{invoice.invoicenumber}}</a>
          </td>
          <td class="highlight-text">
            {{invoice.status}}
          </td>
          <td class="hidden-xs hidden-sm">
            {{invoice.duedate}}
          </td>
          <td>
            {{invoice.amountdue | currency}}
          </td>
          <td class="text-center large-icon hidden-xs hidden-sm">
            <a ng-if="invoice.image" ng-href="{{invoice.image}}" class="icon-camera"></a>
          </td>
          <td class="input-col hidden-xs hidden-sm">
            <input ng-if="invoice.status === 'open' || invoice.status === 'late'" type="text">
          </td>
          <td class="large-icon icon-col">
            <a class="visible-xs visible-sm"><span class="hidden-print text-light icon-ellipsis" ng-click="showDetails = !showDetails;"></span></a>
          </td>
        </tr>

        <tr ng-repeat-end class="mobile-details-row hidden-md hidden-lg" ng-show="showDetails" ng-class="{ odd : $odd, even: $even }">
          <td colspan="8">
            <table>
              <colgroup>
                <col width="25%" />
                <col width="75%" />
              </colgroup>
              <tr>
                <td>Due Date</td>
                <td>{{invoice.duedate}}</td>
              </tr>
              <tr>
                <td>Amount Due</td>
                <td>{{invoice.amountdue | currency}}</td>
              </tr>
              <tr>
                <td class="large-icon" colspan="2">
                  <a ng-if="invoice.image" ng-href="{{invoice.image}}" class="icon-camera"></a>
                </td>
              </tr>
            </table>
          </td>
        </tr>

      </tbody>
      
      <tfoot ng-show="invoices.length === 0">
        <tr>
          <td>There are no invoices to display.</td>
        </tr>
      </tfoot>
    </table>

    <div class="row">
      <div class="col-xs-12 text-right">
        Total: <span style="font-size: 18px; font-weight: 600;">$3879.23</span>
      </div>
    </div>

    <div class="row sub-content">
      <div class="col-xs-12 text-right">
        <button class="btn btn-primary btn-lg">Pay Invoice(s)</button>
      </div>
    </div>

  </div>
</div>

