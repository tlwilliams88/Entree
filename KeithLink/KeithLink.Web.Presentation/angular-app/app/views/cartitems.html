<div class="row page-header-bar">
  <div class="page-header-bar__message">

    <span style="font-weight: bold">Checkout</span>

  </div>
  <div class="hidden-xs hidden-sm hidden-print page-header-bar__actions">

    <div class="pull-right margin-right-10">
      <div class="page-header__buttons">
        <a title="Print" class="btn btn-default btn-icon" ng-click="print()"><span class="icon-printer"></span></a>
        <a title="Export" class="btn btn-default btn-icon" ng-click="openCartExportModal(currentCart.id)" ng-if="!currentCart.ordernumber"><span class="icon-export"></span></a>
      </div>
    </div>

  </div>
</div>

<div class="row col-xs-12 col-lg-8" style="padding-right: 0;">
    <span class="col-xs-7 col-lg-8" style="padding-left: 0; font-size: 1.75em; font-weight: bold;">Review Cart and Shipping Details</span>
        <span class="col-xs-5 col-lg-4" style="margin-bottom: 10px; padding-right: 0px;">
          <a 
            class="btn btn-primary btn-mobile pull-right" 
            ng-if="::!isChangeOrder" 
            type="submit" 
            ng-disabled="cartForm.$pristine" 
            ng-click="saveCart(currentCart)"
            style="padding: 10px;
            margin-left: 10px;">
            Save Cart
          </a>
  
          <a 
            type="button" 
            class="btn btn-primary btn-mobile pull-right" 
            ng-if="::isChangeOrder"  
            ng-disabled="cartForm.$pristine" 
            ng-click="saveChangeOrder(currentCart)"
            style="padding: 10px;
            margin-left: 10px;">
            Save Order
          </a>

          <a 
            type="button" 
            class=" btn btn-default btn-mobile pull-right" 
            ng-disabled="cartForm.$pristine" 
            ng-click="cancelChanges()"
            style="padding: 10px;
            margin-left: 10px;">
            Cancel Changes
          </a>

          <a
            type="button"
            ng-if="::!isChangeOrder" 
            ui-sref="menu.addtoorder.items({ cartId: currentCart.id, listId: currentCart.listid, listType: currentCart.listtype  })" 
            class="btn btn-default pull-right"
            style="padding: 10px;
            margin-left: 10px;">
            Continue Shopping
          </a>
  
          <a 
            type="button"
            ng-if="::isChangeOrder" 
            ui-sref="menu.addtoorder.items({ cartId: currentCart.ordernumber, listId: currentCart.listid, listType: currentCart.listtype })" 
            class="btn btn-default pull-right"
            style="padding: 10px;
            margin-left: 10px;">
            Continue Shopping
          </a>
        </span>
        <div style="width: 100%; height: 2px; background: #C7BEA3; overflow: hidden; margin-bottom: 10px;"></div>
    <span>
        <span class="text-red" ng-show="cartForm.$invalid && !cartForm.$pristine">Your cart has some errors. Please fix these before submitting your order.</span>
                <p class="text-red" ng-show="(currentCart.requestedshipdate && cartForm.cutoffDate.$error.orderCutoffDate) || invalidSelectedDate">Selected ship date is invalid.</span>
                <p class="text-red" ng-show="!currentCart.requestedshipdate && !cartForm.$pristine">Selected ship date is required.</span>
                <p class="text-red" ng-show="cartForm.mandatoryItemsCount.$error.mandatoryItemsCheck">Cart is missing some mandatory items.</span>
                <p class="text-red" ng-show="cartForm.poNumber.$error.required">PO Number is required.</span>
                <p class="text-red" ng-show="cartForm.poNumber.$error.maxlength">PO Number cannot be more than 20 characters.</span>
                <p class="text-red" ng-show="(!currentCart.items || currentCart.items.length === 0)">There are no items in this cart. Cannot submit order.</span>
                <p class="text-red" ng-if="currentCart.status === 'Confirmed with un-submitted changes'">This order has pending changes. Click Submit Changes to update order.</span>
    </span>
    <div class="page-content col-xs-12 container-fluid" style="display: inline-block; padding-right: 0px;">
        <div class="pull-left" ng-hide="currentCart.isRenaming">
            <h3 style="margin-top: 5px; font-weight: bold;">Cart Name:</h3>
            <div class="btn-group" dropdown is-open="status.isopen">
              <button type="button" class="select-cart btn-lg btn btn-default dropdown-toggle">
                {{currentCart.name || '# ' + currentCart.invoicenumber}} <span class="hidden-print icon-arrow-down6"></span>
              </button>
              <div class="dropdown-menu">
      
                <table class="table no-margin">
                  <caption class="text-left">Carts</caption>
                  <tr ng-click="goToCart(cart.id, false)" ng-show="cart.id !== currentCart.id" ng-repeat="cart in carts | orderBy: 'name'">
                    <td><span class="overflow">{{cart.name}}</span></td>
                    <td>{{cart.itemcount}}</td>
                    <td class="nowrap">{{cart.requestedshipdate | formatDate}}</td>
                  </tr>
                  <tr ng-click="createNewCart()" analytics-on="click" analytics-category="Orders" analytics-event="Create Order" analytics-label="Cart Page">
                    <td colspan="3">Create a Cart...</td>
                  </tr>
                </table>
      
                <table class="table no-margin" ng-if="changeOrders.length > 0">
                  <caption class="text-left">Change Orders</caption>
                  <tr ng-if="order.ordernumber !== currentCart.ordernumber" ng-click="goToCart(order.ordernumber, true)" ng-repeat="order in changeOrders">
                    <td><span class="overflow"># {{order.invoicenumber}}</span></td>
                    <td class="nowrap">{{order.requestedshipdate | formatDate}}</td>
                  </tr>
                  <tr ng-if="changeOrders.length === 1 && currentCart.ordernumber === changeOrders[0].ordernumber">
                    <td colspan="3">No other change orders.</td>
                  </tr>
                </table>
      
              </div>
            </div>
      
            <div ng-if="::!isChangeOrder" style="display:inline-block;">
              <a ng-click="startEditCartName(currentCart.name)"><span class="hidden-print large-icon text-light icon-pencil"></span></a>
              <a
                class="hidden-print"
                confirmed-click="deleteCart(currentCart)"
                ng-confirm-click="{{'This will delete the cart ' + currentCart.name + ' and all items within. Are you sure you want to delete this cart?'}}">
                <span class="large-icon text-light icon-trash"></span>
              </a>
            </div>
      
            <div ng-if="::isChangeOrder" style="display:inline-block;">
              <button type="button" ng-if="::isChangeOrder" style="margin-left: 10px;" class="btn-lg btn btn-danger" confirmed-click="cancelOrder(currentCart)" ng-confirm-click="{{'Are you sure you want to delete order # ' + currentCart.invoicenumber + '?'}}">Delete Order</button>
            </div>
          </div>
      
          <form name="renameCartForm" class="style-validation-errors inline-header-form nowrap col-xs-4" ng-show="currentCart.isRenaming" autocomplete="off">
            <input
              no-duplicates="name"
              collection="carts"
              type="text"
              max-length="15"
              focus-me="currentCart.isRenaming"
              class="input-lg form-control"
              required
              ng-model="editCart.name"
              name="cartName"
              id="cartName" />
      
            <button
              ng-disabled="renamecartForm.$invalid"
              class="btn-no-style"
              type="submit"
              type="button"
              ng-click="renameCart(currentCart.id, editCart.name); renameCartForm.$setPristine();">
              <span class="large-icon text-green icon-checkmark"></span>
            </button>
             <br class='visible-xs' ng-show="renameCartForm.cartName.$error.noDuplicates || renameCartForm.cartName.$error.required">
            <a ng-click="currentCart.isRenaming = false"><span class="large-icon text-red icon-cross"></span></a>
            <span class="form-error-message" ng-show="renameCartForm.cartName.$error.required">Cart name is required</span>
            <span class="form-error-message" ng-show="renameCartForm.cartName.$error.noDuplicates">Duplicate cart name</span>
          </form>

        <div class="pull-right col-xs-12 col-md-6" style="padding-top: 10px;">
          <span style="margin-left: -15px; font-size: 1.5em; font-weight: bold;">Delivery Details:</span>
          <div class="row">
          <label for="shipDate" class="col-sm-4 control-label" style="padding-left: 0;">Ship Date:</label>
            <div class="btn-group" dropdown is-open="showShipDates">
                {{currentCart.requestedshipdate | formatDate}}
                <button type="button" class="btn-no-style dropdown-toggle hidden-print"> <span class="text-blue icon-calendar"></span></button><span ng-if="currentCart.containsspecialitems" class="text-black glyphicon-asterisk"></span>
                <div class="dropdown-menu">
                  <table class="table no-margin">
                    <tr>
                      <th></th>
                      <th>Ship Date</th>
                      <th>Submit By</th>
                    </tr>
                    <tr ng-repeat="shipDate in shipDates" ng-click="selectShipDate(shipDate)">
                      <td>{{shipDate.dayofweek}}</td>
                      <td class="nowrap">{{shipDate.shipdate| formatDate}}</td>
                      <td class="nowrap">{{shipDate.cutoffdatetime | formatDateWithTimezone}}</td>
                    </tr>
                  </table>
                </div>

            </div>
          </div>

            <div class="row">
                <label for="shipDate" class="col-xs-3 col-sm-4 control-label" style="padding-left: 0;">Submit By:</label>
                <div>
                  {{selectedShipDate.cutoffdatetime | formatDateWithTimezone}}
                  <input name="cutoffDate" type="hidden" ng-model="selectedShipDate.cutoffdatetime" order-cutoff-date>
                </div>
              </div>
      
              <div class="row">
                <label for="shipDate" class="col-xs-3 col-sm-4 control-label" style="padding-left: 0; margin-top: 5px;">PO #:</label>
                <div class="col-xs-6" style="padding-left: 0;">
                  <input class="form-control print-clean" ng-maxlength="20" name="poNumber" type="text" ng-model="currentCart.ponumber" ng-required="selectedUserContext.customer.isPoRequired" ng-readonly="::isChangeOrder" placeholder="Enter PO Number">
                </div>
            </div>

            
          </div>
          <div class="hidden-lg" style="border: 2px solid #C4BC9E; border-radius: 5px; height: 200px; padding: 10px; margin-top: 200px;">
              <h2 style="padding-left: 25px;">Order Summary</h2>
        
              <div class="row" style="padding-left: 25px;">
                <label for="items" class="col-xs-4 col-sm-5 control-label">Items: </label>
                <div class="col-xs-4 col-sm-6" style="padding-left: 0;">
                    {{(currentCart.itemcount ||  '0') + (currentCart.itemcount === 1 ? ' Item' : ' Items')}}
                </div>
              </div>
            
              <div class="row" style="padding-left: 25px;">
                <label for="pieces" class="col-xs-4 col-sm-5 control-label">Pieces: </label>
                <div class="col-sm-4" style="padding-left: 0;">
                    {{(piecesCount || '0') + (piecesCount == 1 ? ' Piece' : ' Pieces')}}
                </div>
              </div>
        
              <div class="row" style="padding-left: 25px;">
                  <label for="total" class="col-xs-4 col-sm-5 control-label" style="font-size: 1.5em">Total:</label>
                  <div class="col-sm-4" style="padding-left: 0; font-size: 1.5em; font-weight: bold;">
                      <span class="text-green">
                        {{currentCart.subtotal | currency}}
                      </span>
                  </div>
                </div>
        
                <div class="row col-xs-12" style="padding-left: 40px;">
                    <button 
                      ng-if="canSubmitOrders" 
                      type="button" 
                      class="btn btn-primary btn-mobile col-xs-12 submitOrderBtn"
                      style="background-color: #04a773; border: none; padding-top: 15px; padding-bottom: 15px;"
                      ng-disabled="cartForm.$invalid || disableSubmitButtons" 
                      ng-click="submitOrder(currentCart)" 
                      analytics-on 
                      analytics-category="Orders" 
                      analytics-event="Submit Order" 
                      analytics-label="Order">
                      Submit Order
                    </button>
                  </div>
        
        
        
            </div>
          
      </div>
  </div>

      <div class="col-xs-12 col-lg-8" style="margin-top: 40px; padding-left: 0;">
        <form name="cartForm">
        <tabset class="tabset tab-border pull-left" style="width: 100%;">
          <tab ng-if="canCreateOrders && cartHeaders && cartHeaders.length > 0" class="text-center" active="currentCart.active">
              <tab-heading><span class="icon-cart" style="padding-right: 5px; color: #3E9DCD"></span>Cart</tab-heading>
              <h3 class="visible-print-block hidden-xs hidden-sm hidden-md hidden-lg"><span class="icon-cart" style="padding-right: 5px;"></span>Cart</h3>
              <table class="table item-details__table table-striped-rows no-margin" style="width: 100%; padding-bottom: 10px;">
                <tbody>
                  <tr>
                    <th class="sort-col-header" ng-click="sortBy='itemnumber';sortOrder=!sortOrder;">
                        Item
                        <span># <span sort-icons field="'itemnumber'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                      <th class="sort-col-header" ng-click="sortBy='name';sortOrder=!sortOrder">
                        Name
                        <span sort-icons field="'name'" sortorder="sortOrder" sortby="sortBy"></span>
                      </th>
                      <th class="sort-col-header hidden-mobile-visible-print" ng-click="sortBy='brand';sortOrder=!sortOrder">
                        <span>Brand <span sort-icons field="'brand'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                        <th class="sort-col-header hidden-mobile-visible-print" ng-click="sortBy='class';sortOrder=!sortOrder">
                        <span>Class <span sort-icons field="'class'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                      <!-- <th class="sort-col-header hidden-mobile-visible-print" ng-click="sortBy='notes';sortOrder=!sortOrder">
                        <span>Notes <span sort-icons field="'notes'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th> -->
                      <th class="hidden-mobile-visible-print">
                        Pack/Size
                      </th>
                      <th class="hidden-mobile-visible-print"></th>
                      <th class="sort-col-header" ng-click="sortBy='quantity';sortOrder=!sortOrder">
                        <span>Qty <span sort-icons field="'quantity'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                      <th class="hidden-mobile-visible-print sort-col-header" ng-click="sortBy='each';sortOrder=!sortOrder">
                        <span>Each <span sort-icons field="'each'" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                      <th class="sort-col-header hidden-mobile-visible-print" ng-click="sortBy=sortByPrice;sortOrder=!sortOrder;">
                        <span>Price <span sort-icons field="sortByPrice" sortorder="sortOrder" sortby="sortBy"></span></span>
                      </th>
                      <th class="hidden-mobile-visible-print ">
                        Ext Price
                      </th>
                      <th class="large-icon icon-col hidden-xs">
                        <a ng-click="showFilter = !showFilter;"><span class="icon-filter hidden-print"></span></a>
                      </th>
                  </tr>
                  <tr ng-class="{ odd : $odd, even: $even, 'item-selected': item.isSelected }" ng-repeat="item in (filteredItems = (currentCart.items | filter:filterFields | orderBy:sortBy:sortOrder | limitTo:itemsToDisplay))">
                    <td>
                        <a ng-if="item.isvalid && item.catalog_id && item.catalog_id.indexOf('unfi') == 0" ui-sref="menu.catalog.products.details({ itemNumber : item.itemnumber, catalogType: 'UNFI' })">{{item.itemnumber}}</a>
                        <a ng-if="item.isvalid && (!item.catalog_id || item.catalog_id.indexOf('unfi') != 0)" ui-sref="menu.catalog.products.details({ itemNumber : item.itemnumber })">{{item.itemnumber}}</a>
                        <span ng-if="!item.isvalid" tooltip="Contact your DSR for more info.">{{::item.itemnumber}}</span>
                    </td>
                    <td>
                      <span ng-if="item.isvalid">
                        {{::item.name}}
                      </span>
                      <span ng-if="!item.isvalid">
                        Invalid item
                      </span>
                    </td>
                    <td class="hidden-mobile-visible-print ">
                      {{item.brand}}
                    </td>
                    <td class="hidden-mobile-visible-print ">
                      {{item.class}}
                    </td>
                    <!-- <td class="hidden-mobile-visible-print notes-col">
                      {{item.notes}}
                    </td> -->
                    <td class="hidden-mobile-visible-print ">
                      {{item.packsize}}
                    </td>
                    <td class="hidden-mobile-visible-print " item-icons>
                    </td>
                    <td class="input-col nowrap">
                      <span ng-if="::!item.isoutofstock" class="visible-print">{{item.quantity}}</span>
                      <span ng-if="::item.isoutofstock" class="visible-print">{{item.quantityordered}}</span>
                      <ng-form class="hidden-print" name="quantityForm" ng-if="item.isvalid && item.status != 'Deleted'">
                        <!-- <input name="quantity" required type="text" ng-model="item.quantity" class="input-number text-right" integer> -->
                        <div ng-if="::!item.isoutofstock" counter ng-model="item.quantity" min="0" length="5" ></div>
                        <div ng-if="::item.isoutofstock" counter ng-model="item.quantityordered" min="0" length="5" ></div>
                      </ng-form>
                    </td>
                    <td class="hidden-mobile-visible-print input-col" ng-if="!isChangeOrder">
                      <ng-form name="eachForm" ng-if="item.hasPackagePrice && item.isvalid">
                        <input type="checkbox" ng-checked = "!item.hasCasePrice || item.each" ng-disabled = "!item.hasCasePrice" ng-model="item.each" id="each" name="each" />
                        <label for="each"></label>
                      </ng-form>
                    </td>
                    <td ng-if="isChangeOrder" class="hidden-mobile-visible-print">
                      {{item.eachyn}}
                    </td>
                    <td ng-if="!isChangeOrder" class="hidden-mobile-visible-print ">
                      {{item.each ? item.packageprice : item.caseprice | currency}}
                      <span class="text-small" tooltip="Catch weight pricing" ng-if="item.catchweight">LB</span>
                    </td>
                    <td ng-if="isChangeOrder" class="hidden-mobile-visible-print ">
                      {{item.price | currency}}
                      <span class="text-small" tooltip="Catch weight pricing" ng-if="item.catchweight">LB</span>
                    </td>
                    <td class="hidden-mobile-visible-print ">
                      {{item.extPrice | currency}}
                    </td>
                    <td class="large-icon icon-col">
                      <a class="hidden-print hidden-xs hidden-sm visible-md-inline visible-lg-inline"><span class="hidden-print text-light visible-xs-inline visible-sm-inline icon-ellipsis" ng-click="showDetails = !showDetails;"></span></a>
                      <a class="hidden-print hidden-xs hidden-sm" ng-if="!(item.isMandatory && isChangeOrder || item.status == 'Deleted')" ng-click="deleteItem(item)"><span class="text-red icon-cross"></span></a>
                    </td>
                  </tr>
                </tbody>
                <tfoot ng-show="currentCart.active && currentCart.items.length === 0">
                    <tr>
                      <td colspan="12">
                        There are no cart items for this cart.
                      </td>
                    </tr>
                  </tfoot>
              </table>
            </tab>

            <tab heading="Mandatory Items" ng-show="mandatoryList && mandatoryList.items.length > 0" active="mandatoryList.active" class="text-center">
              <tab-heading><span class="icon-warning" style="padding-right: 5px;" ng-style="mandatoryItems.length > 0 && {'color': 'rgb(226, 38, 44)'}"></span>Mandatory Items</tab-heading>
              <input name="mandatoryItemsCount" type="hidden" ng-model="mandatoryItems.length" mandatory-items-check>
      
              <table class="table table-striped-rows table-narrow" style="width: 100%;">
                <thead>
                  <tr>
                    <!-- <th class="input-col">
                      <input type="checkbox" ng-model="mandatoryList.allSelected" no-dirty-check ng-change="changeAllSelectedItems(mandatoryItems, mandatoryList.allSelected)">
                    </th> -->
                    <th class="sort-col-header" ng-click="mandatorySortBy='itemnumber';mandatorySortOrder=!mandatorySortOrder;">
                      Item
                      <span># <span sort-icons field="'itemnumber'" sortorder="mandatorySortOrder" sortby="mandatorySortBy"></span></span>
                    </th>
                    <th class="sort-col-header" ng-click="mandatorySortBy='name';mandatorySortOrder=!mandatorySortOrder;">
                      <span>Name <span sort-icons field="'name'" sortorder="mandatorySortOrder" sortby="mandatorySortBy"></span></span>
                    </th>
                    <th>
                      Qty
                    </th>
                    <th>
                      # in Cart
                    </th>
                    <th>
                      <a class="pull-right" ng-show="mandatoryItems && mandatoryItems.length > 0" ng-click="addSelectedToCart(mandatoryItems)"> Add All</a>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in (mandatoryItems = (mandatoryList.items | meetsMinimumQuantity:currentCart.items | orderBy:mandatorySortBy:mandatorySortOrder))"  ng-class="{ odd : $odd, even: $even, 'item-selected': item.isSelected }">
                    <!-- <td class="input-col">
                      <input type="checkbox" ng-model="item.isSelected" no-dirty-check>
                    </td> -->
                    <td>
                      <a ng-if="item.catalog_id && item.catalog_id.indexOf('unfi') == 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber, catalogType: 'UNFI'})">{{item.itemnumber}}</a>
                      <a ng-if="!item.catalog_id || item.catalog_id.indexOf('unfi') != 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber})">{{item.itemnumber}}</a>
                    </td>
                    <td>
                      {{item.name}}
                    </td>
                    <td>
                      {{item.parlevel}}
                    </td>
                    <td>
                      {{item.qtyInCart}}
                    </td>
                    <td>
                        <a class="pull-right" ng-click="addSelectedToCart(mandatoryItems[$index])"><span class="icon-plus3 large-icon" tooltip="Add item to cart" style="padding: 10px;"></span></a>
                    </td>
                  </tr>
                </tbody>
                <tfoot ng-show="mandatoryList.active && mandatoryItems.length === 0">
                  <tr>
                    <td colspan="12">
                        There are no missing mandatory items for this cart.
                    </td>
                  </tr>
                </tfoot>
              </table>
            </tab>
        
            <tab ng-show="reminderList && reminderList.items.length > 0" active="reminderList.active" class="text-center">
              <tab-heading><span class="icon-alarm" style="padding-right: 5px;" ng-style="reminderItems.length > 0 && {'color': 'rgb(180, 180, 18)'}"></span>Reminder Items</tab-heading>
              <table class="table table-striped-rows table-narrow" style="width: 100%;">
                <thead>
                  <tr>
                    <th class="sort-col-header" ng-click="reminderSortBy='itemnumber';reminderSortOrder=!reminderSortOrder;">
                      Item
                      <span># <span sort-icons field="'itemnumber'" sortorder="reminderSortOrder" sortby="reminderSortBy"></span></span>
                    </th>
                    <th class="sort-col-header" ng-click="reminderSortBy='name';reminderSortOrder=!reminderSortOrder;">
                      <span>Name <span sort-icons field="'name'" sortorder="reminderSortOrder" sortby="reminderSortBy"></span></span>
                    </th>
                    <th>
                        <a class="pull-right" ng-show="reminderItems && reminderItems.length > 0" ng-click="addSelectedToCart(reminderItems)"> Add All</a>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in (reminderItems = (reminderList.items | meetsMinimumQuantity:currentCart.items | orderBy:reminderSortBy:reminderSortOrder))"  ng-class="{ odd : $odd, even: $even, 'item-selected': item.isSelected }">
                    <td>
                      <a ng-if="item.catalog_id && item.catalog_id.indexOf('unfi') == 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber, catalogType: 'UNFI'})">{{item.itemnumber}}</a>
                      <a ng-if="!item.catalog_id || item.catalog_id.indexOf('unfi') != 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber})">{{item.itemnumber}}</a>
                    </td>
                    <td>
                      {{item.name}}
                    </td>
                    <td>
                        <a class="pull-right" ng-click="addSelectedToCart(mandatoryItems[$index])"><span class="icon-plus3 large-icon" tooltip="Add item to cart" style="padding: 10px;"></span></a>
                    </td>
                  </tr>
                </tbody>
                <tfoot ng-show="reminderList.active && reminderItems.length === 0">
                  <tr>
                    <td colspan="12">
                      There are no missing reminder items for this cart.
                    </td>
                  </tr>
                </tfoot>
              </table>
            </tab>

            <tab ng-show="true" active="recommendedList.active" class="text-center hidden-lg">
                <tab-heading><span class="icon-new" style="padding-right: 5px; color: #00A874;"></span>Recommended Items</tab-heading>
                <table class="table table-striped-rows table-narrow" style="table-layout: fixed;
                width: 100%;">
                  <thead>
                    <tr>
                      <th class="sort-col-header" ng-click="reminderSortBy='itemnumber';reminderSortOrder=!reminderSortOrder;">
                        Item
                        <span># <span sort-icons field="'itemnumber'" sortorder="reminderSortOrder" sortby="reminderSortBy"></span></span>
                      </th>
                      <th class="sort-col-header" ng-click="reminderSortBy='name';reminderSortOrder=!reminderSortOrder;">
                        <span>Name <span sort-icons field="'name'" sortorder="reminderSortOrder" sortby="reminderSortBy"></span></span>
                      </th>
                      <th>
                          <a class="pull-right" ng-show="reminderItems && reminderItems.length > 0" ng-click="addSelectedToCart(reminderItems)"> Add All</a>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="item in (reminderItems = (reminderList.items | meetsMinimumQuantity:currentCart.items | orderBy:reminderSortBy:reminderSortOrder)) | limitTo: 5"  ng-class="{ odd : $odd, even: $even, 'item-selected': item.isSelected }">
                      <td>
                        <a ng-if="item.catalog_id && item.catalog_id.indexOf('unfi') == 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber, catalogType: 'UNFI'})">{{item.itemnumber}}</a>
                        <a ng-if="!item.catalog_id || item.catalog_id.indexOf('unfi') != 0" ui-sref="menu.catalog.products.details({itemNumber: item.itemnumber})">{{item.itemnumber}}</a>
                      </td>
                      <td>
                        {{item.name}}
                      </td>
                      <td>
                          <a class="pull-right" ng-click="addSelectedToCart(mandatoryItems[$index])"><span class="icon-plus3 large-icon" tooltip="Add item to cart" style="padding: 10px;"></span></a>
                      </td>
                    </tr>
                  </tbody>
                  <tfoot ng-show="recommendedList.active && recommendedList.length === 0">
                    <tr>
                      <td colspan="12">
                        There are no missing reminder items for this cart.
                      </td>
                    </tr>
                  </tfoot>
                </table>
              </tab>
        </tabset>
      </form>
      </div>

  <div class="col-xs-4 hidden-xs hidden-sm hidden-md container-fluid" style="width: 32%; padding-left: 15px; margin-left: 15px; margin-top: -180px; height: 100%;">

    <div sticky offset="20" style="border: 2px solid #C4BC9E; border-radius: 5px; height: 200px; padding: 10px 10px 10px 20px;">
      <h2 style="padding-left: 25px;">Order Summary</h2>

      <div class="row" style="padding-left: 25px;">
        <label for="items" class="col-sm-5 control-label">Items: </label>
        <div class="col-sm-6" style="padding-left: 0;">
            {{(itemCount.length ||  '0') + (itemCount.length == 1 ? ' Item' : ' Items')}}
        </div>
      </div>
    
      <div class="row" style="padding-left: 25px;">
        <label for="pieces" class="col-sm-5 control-label">Pieces: </label>
        <div class="col-sm-4" style="padding-left: 0;">
            {{(piecesCount || '0') + (piecesCount == 1 ? ' Piece' : ' Pieces')}}
        </div>
      </div>

      <div class="row" style="padding-left: 25px;">
          <label for="total" class="col-sm-5 control-label" style="font-size: 1.5em">Total Price:</label>
          <div class="col-sm-4" style="padding-left: 0; font-size: 1.5em; font-weight: bold;">
              <span class="text-green">
                {{currentCart.subtotal | currency}}
              </span>
          </div>
        </div>

        <div class="row col-xs-12" style="padding-left: 40px;">
            <button 
              ng-if="canSubmitOrders" 
              type="button" 
              class="btn btn-primary btn-mobile col-xs-12 submitOrderBtn"
              style="background-color: #04a773; border: none; padding-top: 15px; padding-bottom: 15px;"
              ng-disabled="cartForm.$invalid || disableSubmitButtons" 
              ng-click="submitOrder(currentCart)" 
              analytics-on 
              analytics-category="Orders" 
              analytics-event="Submit Order" 
              analytics-label="Order">
              Submit Order
            </button>
          </div>



    </div>

    <div sticky offset="230" class="row hidden-xs hidden-sm hidden-md" style="margin-top: 12px; padding-left: 15px;">
        <h3>Recommendations Based On Your Cart</h3>
        <div>
          
          
          <div style="border: 2px solid #C4BC9E; border-radius: 5px; height: 100px; margin-top: 10px; margin-bottom: 10px;" ng-repeat="recommendedItem in recommendedItems | limitTo: 5">
            
            <div>
                <img 
                class="hand items pull-left"
                style="padding: 0; height: 96px;"
                ng-src="{{recommendedItem.productimages[0].url}}" />
            </div>


            <div class="pull-left" style="padding-top: 25px; padding-left: 10px; padding-right: 10px;">
              <p>{{recommendedItem.name}}</p>
              <p>{{recommendedItem.each ? recommendedItem.packageprice : recommendedItem.caseprice | currency}} - {{recommendedItem.packsize}}</p>
            </div>

            <div class="pull-right" style="padding-top: 5px; padding-right: 10px;">
                <div class="hidden-print sub-content">
          
                    <form name="orderForm" style="display: inline-block;">
                      <div counter allowDropdown="true" size="large" ng-model="item.quantity" min="0"></div>
                      <span ng-if="packagePriceInd">Order By Package             
                        <ng-form name="eachForm_mobile">
                          <input type="checkbox" ng-model="item.each" id="each" name="each" />
                        </ng-form>
                      </span>
                    </form>

                    <div class="btn-primary btn btn-lg">
                        Add To Cart
                      </div>
                  </div>
              </div>

          </div>
  
          <!-- <div style="border: 2px solid #C4BC9E; border-radius: 5px; height: 100px; padding: 10px; margin-top: 10px;"></div>
  
          <div style="border: 2px solid #C4BC9E; border-radius: 5px; height: 100px; padding: 10px; margin-top: 10px;"></div>
  
          <div style="border: 2px solid #C4BC9E; border-radius: 5px; height: 100px; padding: 10px; margin-top: 10px;"></div>
  
          <div style="border: 2px solid #C4BC9E; border-radius: 5px; height: 100px; padding: 10px; margin-top: 10px; margin-bottom: 10px;"></div> -->
    
        </div>
    
      </div>
  </div>
