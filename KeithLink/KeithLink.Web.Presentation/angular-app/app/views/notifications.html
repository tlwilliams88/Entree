<div page-header-bar>
  <div header-message>
    Messages & Notifications
  </div>
  <div header-buttons>
    <button title="Print" class="btn btn-default btn-icon" ng-click="print()"><span class="icon-printer"></span></button>
  </div>
</div>

<div>
  <div class="input-group hidden-print input-group-lg">
    <input ng-model="notificationSearchTerm" type="text" class="form-control" placeholder="Search notifications...">
    <span class="input-group-btn">
      <button type="button" ng-click="notificationSearchTerm = ''" class="btn btn-default"><span class="large-icon icon-cross"></span></button>
    </span>
  </div>
</div>

<div class="row sub-content">
  <div class="col-xs-12 text-right">
    Showing {{filteredItems.length}} of {{notifications.length}} Notifications
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    
    <table class="table table-striped-rows table-border">
      <thead>
        <tr>
          <th class="sort-col-header" ng-click="sortBy='label';sortOrder=!sortOrder">
            Label
            <span sort-icons field="'label'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header hidden-xs hidden-sm" ng-click="sortBy='customernumber';sortOrder=!sortOrder">
            Customer
            <span sort-icons field="'customernumber'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header" ng-click="sortBy='subject';sortOrder=!sortOrder">
            Subject
            <span sort-icons field="'subject'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header hidden-xs hidden-sm" ng-click="sortBy='notificationtype';sortOrder=!sortOrder">
            Type
            <span sort-icons field="'notificationtype'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="sort-col-header" ng-click="sortBy='messagecreatedutc';sortOrder=!sortOrder">
            Time
            <span sort-icons field="'messagecreatedutc'" sortorder="sortOrder" sortby="sortBy"></span>
          </th>
          <th class="hidden-print large-icon icon-col">
            <!-- <a ng-click="showFilter = !showFilter;"><span class="icon-filter"></span></a> -->
          </th>
        </tr>
      </thead>  

      <tbody>
        
        <!-- Filter Row -->
        <!-- <tr class="filter-row" ng-show="showFilter">
          <td class="hidden-xs hidden-sm input-col">
            <input type="text" placeholder="Filter..." ng-model="filterFields.notes">
          </td>
          <td class="hidden-xs hidden-sm input-col">
            <input type="text" placeholder="Filter..." ng-model="filterFields.notes">
          </td>
          <td class="hidden-xs hidden-sm input-col">
            <input type="text" placeholder="Filter..." ng-model="filterFields.notes">
          </td>
          <td class="hidden-xs hidden-sm"></td>
          <td class="hidden-xs hidden-sm"></td>
        </tr>  -->
        <!-- end Filter Row -->

        <tr ng-repeat="notification in (filteredItems = (notifications | filter:notificationSearchTerm | orderBy:[sortOrder ? '-' : '' + sortBy, '-messagecreatedutc']))" ng-class="{ odd : $odd, even: $even, 'new-message': !notification.messagereadutc, 'mandatory': notification.mandatory }">
          <td>{{notification.label}}</td>
          <td class="hidden-xs hidden-sm">{{notification.customernumber}}</td>
          <td>{{notification.subject}}</td>
          <td class="hidden-xs hidden-sm">{{notification.notificationtype}}</td>
          <td>{{notification.messagecreatedutc | date:medium }}</td>
          <td class="large-icon icon-col">
            <a ng-if="notification.body" ng-click="showAdditionalInfo(notification)"><span class="text-light icon-ellipsis"></span></a>
          </td>
        </tr>

      </tbody>
      <tfoot ng-show="notifications.length === 0 || !notifications || filteredItems.length === 0">
        <tr>
          <td colspan="15">
            There are no notifications to display.
          </td>
        </tr>
      </tfoot>
    </table>

  </div>
</div>